module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},70323,a=>{"use strict";let b={director:6,finance:5,campaign_manager:4,reviewer:3,influencer:2,client:1};function c(a,b){return!!a&&!!a.role&&!!a.role_approved&&a.role===b}function d(a,c){return!!a&&!!a.role&&!!a.role_approved&&b[a.role]>=b[c]}function e(a){return c(a,"director")}function f(a){return d(a,"campaign_manager")}function g(a){return({director:"Director",campaign_manager:"Campaign Manager",reviewer:"Reviewer",finance:"Finance",influencer:"Influencer",client:"Client"})[a]}function h(a){return({director:"bg-purple-100 text-purple-800",campaign_manager:"bg-blue-100 text-blue-800",reviewer:"bg-yellow-100 text-yellow-800",finance:"bg-green-100 text-green-800",influencer:"bg-pink-100 text-pink-800",client:"bg-gray-100 text-gray-800"})[a]}a.s(["getRoleBadgeColor",()=>h,"getRoleDisplayName",()=>g,"hasMinimumRole",()=>d,"hasRole",()=>c,"isCampaignManagerOrHigher",()=>f,"isDirector",()=>e])},15861,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(36545);function f({children:a,requiredApproval:f=!0}){let{profile:g,loading:h}=(0,e.useAuth)(),i=(0,d.useRouter)();return((0,c.useEffect)(()=>{if(!h){if(!g)return void i.push("/login");if(f&&(!g.role||!g.role_approved))return void i.push("/pending-approval")}},[g,h,i,f]),h)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):g&&(!f||g.role&&g.role_approved)?(0,b.jsx)(b.Fragment,{children:a}):null}a.i(70323),a.s(["default",()=>f])},59102,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(78560),f=a.i(36545),g=a.i(15861),h=a.i(70323);function i(){return(0,b.jsx)(g.default,{children:(0,b.jsx)(j,{})})}function j(){let a=(0,d.useRouter)(),{profile:g}=(0,f.useAuth)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),q=(0,h.isCampaignManagerOrHigher)(g);async function r(){try{let a=e.supabase.from("clients").select("*").order("name");o||(a=a.eq("is_active",!0));let{data:b,error:c}=await a;if(c)throw c;j(b||[])}catch(a){console.error("Error fetching clients:",a.message)}finally{l(!1)}}(0,c.useEffect)(()=>{r()},[o]);let s=i.filter(a=>{if(!m)return!0;let b=m.toLowerCase();return a.name.toLowerCase().includes(b)||a.client_code.toLowerCase().includes(b)||a.company_name?.toLowerCase().includes(b)||a.email?.toLowerCase().includes(b)});return k?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Loading clients..."})})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Clients"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your client database"})]}),q&&(0,b.jsx)("button",{onClick:()=>a.push("/clients/new"),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"+ New Client"})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,b.jsx)("div",{className:"flex-1 w-full",children:(0,b.jsx)("input",{type:"text",placeholder:"Search by name, code, company, or email...",value:m,onChange:a=>n(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:o,onChange:a=>p(a.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Show inactive"})]})]})}),0===s.length?(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:(0,b.jsx)("p",{className:"text-gray-600",children:m?"No clients match your search.":"No clients yet. Add your first client to get started."})}):(0,b.jsx)("div",{className:"grid gap-4",children:s.map(c=>(0,b.jsx)("div",{onClick:()=>q&&a.push(`/clients/${c.id}`),className:`bg-white rounded-lg shadow p-6 ${q?"hover:shadow-lg transition cursor-pointer":""}`,children:(0,b.jsx)("div",{className:"flex justify-between items-start",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:c.name}),(0,b.jsx)("span",{className:"text-sm font-mono text-gray-500",children:c.client_code}),!c.is_active&&(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:"Inactive"})]}),c.company_name&&(0,b.jsx)("p",{className:"text-gray-600 mb-2",children:c.company_name}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[c.email&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Email:"})," ",c.email]}),c.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Phone:"})," ",c.phone]}),c.industry&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Industry:"})," ",c.industry]}),c.city&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Location:"})," ",c.city,c.country&&`, ${c.country}`]})]}),c.notes&&(0,b.jsx)("p",{className:"text-gray-600 mt-3 text-sm line-clamp-2",children:c.notes})]})})},c.id))})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c0d6fdc8._.js.map
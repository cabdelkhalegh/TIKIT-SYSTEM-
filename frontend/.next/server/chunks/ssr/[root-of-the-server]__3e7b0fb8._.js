module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},70323,a=>{"use strict";let b={director:6,finance:5,campaign_manager:4,reviewer:3,influencer:2,client:1};function c(a,b){return!!a&&!!a.role&&!!a.role_approved&&a.role===b}function d(a,c){return!!a&&!!a.role&&!!a.role_approved&&b[a.role]>=b[c]}function e(a){return c(a,"director")}function f(a){return d(a,"campaign_manager")}function g(a){return({director:"Director",campaign_manager:"Campaign Manager",reviewer:"Reviewer",finance:"Finance",influencer:"Influencer",client:"Client"})[a]}function h(a){return({director:"bg-purple-100 text-purple-800",campaign_manager:"bg-blue-100 text-blue-800",reviewer:"bg-yellow-100 text-yellow-800",finance:"bg-green-100 text-green-800",influencer:"bg-pink-100 text-pink-800",client:"bg-gray-100 text-gray-800"})[a]}a.s(["getRoleBadgeColor",()=>h,"getRoleDisplayName",()=>g,"hasMinimumRole",()=>d,"hasRole",()=>c,"isCampaignManagerOrHigher",()=>f,"isDirector",()=>e])},15861,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(36545);function f({children:a,requiredApproval:f=!0}){let{profile:g,loading:h}=(0,e.useAuth)(),i=(0,d.useRouter)();return((0,c.useEffect)(()=>{if(!h){if(!g)return void i.push("/login");if(f&&(!g.role||!g.role_approved))return void i.push("/pending-approval")}},[g,h,i,f]),h)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):g&&(!f||g.role&&g.role_approved)?(0,b.jsx)(b.Fragment,{children:a}):null}a.i(70323),a.s(["default",()=>f])},20731,a=>{"use strict";var b=a.i(87924),c=a.i(36545),d=a.i(50944),e=a.i(38246),f=a.i(15861),g=a.i(70323);function h({children:a,roles:d,minimumRole:e,fallback:f=null}){let{profile:h}=(0,c.useAuth)();return h&&h.role&&h.role_approved&&(!d||!(d.length>0)||d.some(a=>(0,g.hasRole)(h,a)))?e&&!(0,g.hasMinimumRole)(h,e)?(0,b.jsx)(b.Fragment,{children:f}):(0,b.jsx)(b.Fragment,{children:a}):(0,b.jsx)(b.Fragment,{children:f})}function i({children:a,fallback:c=null}){return(0,b.jsx)(h,{roles:["director"],fallback:c,children:a})}function j(){let{profile:a,signOut:h}=(0,c.useAuth)(),j=(0,d.useRouter)(),k=async()=>{await h(),j.push("/login")};return(0,b.jsx)(f.default,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("nav",{className:"bg-white shadow-sm",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between h-16",children:[(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,b.jsx)("h1",{className:"text-xl font-bold text-purple-600",children:"TiKiT"})}),(0,b.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,b.jsx)(e.default,{href:"/dashboard",className:"border-purple-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Dashboard"}),(0,b.jsx)(i,{children:(0,b.jsx)(e.default,{href:"/invitations",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Invitations"})}),(0,b.jsx)(e.default,{href:"/profile",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Profile"})]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[a?.role&&(0,b.jsx)("span",{className:`mr-4 px-3 py-1 rounded-full text-xs font-medium ${(0,g.getRoleBadgeColor)(a.role)}`,children:(0,g.getRoleDisplayName)(a.role)}),(0,b.jsx)("button",{onClick:k,className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:"Sign out"})]})]})})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",a?.full_name||a?.email,"!"]}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["You are logged in as ",a?.role&&(0,g.getRoleDisplayName)(a.role)]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsx)(i,{children:(0,b.jsx)(e.default,{href:"/invitations",children:(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:(0,b.jsx)("div",{className:"p-5",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Manage Invitations"}),(0,b.jsx)("dd",{className:"text-sm text-gray-900",children:"Send invites and approve users"})]})})]})})})})}),(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,b.jsx)("div",{className:"p-5",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Campaigns"}),(0,b.jsx)("dd",{className:"text-sm text-gray-900",children:"Coming soon"})]})})]})})}),(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,b.jsx)("div",{className:"p-5",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Profile"}),(0,b.jsx)("dd",{className:"text-sm text-gray-900",children:"View your profile"})]})})]})})})]}),(0,b.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Role-Based Access Control"}),(0,b.jsxs)("p",{className:"mt-2 text-sm text-blue-700",children:["Your access is determined by your role: ",(0,b.jsx)("strong",{children:a?.role&&(0,g.getRoleDisplayName)(a.role)})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-blue-600",children:"Some features and pages may be hidden based on your permissions."})]})]})})]})})}a.s(["default",()=>j],20731)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3e7b0fb8._.js.map
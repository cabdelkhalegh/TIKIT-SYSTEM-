(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83642,e=>{"use strict";var t=e.i(43476),u=e.i(71645),s=e.i(17927);let r=(0,u.createContext)({user:null,session:null,profile:null,loading:!0,signOut:async()=>{},refreshProfile:async()=>{}});e.s(["AuthProvider",0,({children:e})=>{let[l,n]=(0,u.useState)(null),[a,i]=(0,u.useState)(null),[o,c]=(0,u.useState)(null),[h,d]=(0,u.useState)(!0),f=async e=>{try{let{data:t,error:u}=await s.supabase.from("profiles").select("*").eq("id",e).single();if(u)throw u;c(t)}catch(e){console.error("Error fetching profile:",e),c(null)}},b=async()=>{l&&await f(l.id)};(0,u.useEffect)(()=>{s.supabase.auth.getSession().then(({data:{session:e}})=>{i(e),n(e?.user??null),e?.user?f(e.user.id).finally(()=>d(!1)):d(!1)});let{data:{subscription:e}}=s.supabase.auth.onAuthStateChange((e,t)=>{i(t),n(t?.user??null),t?.user?f(t.user.id):c(null)});return()=>e.unsubscribe()},[]);let p=async()=>{await s.supabase.auth.signOut(),n(null),i(null),c(null)};return(0,t.jsx)(r.Provider,{value:{user:l,session:a,profile:o,loading:h,signOut:p,refreshProfile:b},children:e})},"useAuth",0,()=>{let e=(0,u.useContext)(r);if(!e)throw Error("useAuth must be used within AuthProvider");return e}])}]);